// Estilos del encabezado móvil: barra fija, overlay y drawer lateral.
@use '../../../styles/variables' as *;

// El host no genera caja propia; los tres bloques se posicionan de forma independiente
:host { display: contents; }

// Barra superior fija con fondo translucido y efecto blur
.mobile-header {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: $z-header;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 1.25rem;
  border-bottom: 1px solid var(--border);
  background-color: var(--portfolio-sidebar-bg);
  backdrop-filter: blur(16px); // Efecto de vidrio esmerilado sobre el contenido
  overflow: hidden;
  font-family: $font-ui;

  // Fondo decorativo (no recibe clics)
  &__bg {
    position: absolute; inset: 0;
    pointer-events: none; overflow: hidden;
  }
  // Textura de puntos sutil
  &__dots {
    position: absolute; inset: 0;
    opacity: 0.02;
    background-image: radial-gradient(circle, var(--foreground) 0.8px, transparent 0.8px);
    background-size: 20px 20px;
  }
  // Blob animado de color acento en la esquina superior derecha
  &__blob {
    position: absolute;
    width: 120px; height: 120px;
    border-radius: 50%;
    opacity: 0.06;
    background: radial-gradient(circle, var(--portfolio-accent) 0%, transparent 70%);
    top: -40%; right: 10%;
    animation: headerBlob 10s ease-in-out infinite;
  }

  // Logo de iniciales: "M" en color acento, "T" en color de texto
  &__logo {
    display: flex; align-items: center; gap: 0.25rem;
    position: relative; z-index: 1;
    &-m { font-size: 1.5rem; font-weight: 700; color: var(--portfolio-accent); }
    &-t { font-size: 1.5rem; font-weight: 700; color: var(--foreground); }
  }

  // Botón hamburguesa / cerrar
  &__toggle {
    padding: 0.5rem;
    border-radius: $radius-lg;
    position: relative; z-index: 1;
    transition: background $transition-base;
    &:hover { background: var(--portfolio-accent-glow); }
    i { width: 24px; height: 24px; color: var(--foreground); }
  }
}

// Overlay semitransparente detrás del drawer.
// Empieza invisible (opacity: 0, pointer-events: none) y se activa con la clase 'open'.
.mobile-overlay {
  position: fixed; inset: 0;
  z-index: $z-overlay;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(4px);
  opacity: 0;
  pointer-events: none;           // No bloquea clics mientras está oculto
  transition: opacity $transition-slow;
  &.open { opacity: 1; pointer-events: auto; } // Angular agrega 'open' cuando isDrawerOpen = true
}

// Drawer lateral: entra desde la derecha con translateX.
// Transform en vez de display:none para que la transición CSS funcione.
.mobile-drawer {
  position: fixed;
  top: 0; right: 0;
  z-index: $z-drawer;
  height: 100%; width: $sidebar-width;
  transform: translateX(100%);    // Posición inicial: fuera del viewport
  transition: transform $transition-slow ease-in-out;
  box-shadow: -4px 0 24px rgba(0, 0, 0, 0.2);
  &.open { transform: translateX(0); } // Entra al viewport cuando se abre

  // Botón de cerrar flotante dentro del drawer
  &__close {
    position: absolute;
    top: 1rem; right: 1rem;
    z-index: 10;
    padding: 0.375rem;
    border-radius: $radius-lg;
    transition: background $transition-base;
    &:hover { background: var(--portfolio-accent-glow); }
    i { width: 20px; height: 20px; color: var(--muted-foreground); }
  }
}

// Blob de la barra superior: se desplaza suavemente hacia la izquierda
@keyframes headerBlob {
  0%, 100% { transform: translate(0, 0) scale(1); }
  50%       { transform: translate(-20px, 10px) scale(1.2); }
}
